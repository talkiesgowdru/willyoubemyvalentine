<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Invitation | Sanctuary OS</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@1,900&family=Inter:wght@400;600;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root {
            --bg: #000000;
            --apple-glass: rgba(25, 25, 25, 0.75);
            --border: rgba(255, 255, 255, 0.12);
            --accent: #ff3b30;
            /* Dynamic SVH Buffers to counter mobile address bars */
            --safe-top: 10svh;
            --safe-bottom: 15svh;
        }

        body, html {
            margin: 0; padding: 0; width: 100%; height: 100svh;
            font-family: 'Inter', -apple-system, sans-serif;
            background: var(--bg); color: #fff;
            overflow: hidden; -webkit-font-smoothing: antialiased;
        }

        /* Atmospheric Fluid Engine */
        .ambient-engine { position: fixed; inset: 0; z-index: 0; pointer-events: none; }
        .orb { position: absolute; border-radius: 50%; filter: blur(140px); opacity: 0.25; }
        .orb-1 { width: 80vw; height: 80vw; background: var(--accent); top: -10%; right: -10%; }
        .orb-2 { width: 70vw; height: 70vw; background: #5856d6; bottom: -10%; left: -10%; }

        /* Mobile-First Centering Logic */
        .master-stage {
            position: relative; z-index: 10;
            height: 100svh; width: 100vw;
            display: flex; align-items: center; justify-content: center;
            padding: var(--safe-top) 20px var(--safe-bottom);
            box-sizing: border-box;
        }

        .vault-card {
            background: var(--apple-glass);
            backdrop-filter: blur(60px) saturate(180%);
            -webkit-backdrop-filter: blur(60px) saturate(180%);
            border: 1px solid var(--border);
            border-radius: 48px; padding: 3rem 1.5rem;
            width: 100%; max-width: 420px;
            box-shadow: 0 50px 100px rgba(0,0,0,1);
            text-align: center;
            position: relative;
        }

        /* Profile Header */
        .avatar-frame {
            width: 85px; height: 85px; margin: 0 auto 15px;
            border-radius: 50%; border: 1px solid var(--border);
            padding: 3px; background: rgba(255,255,255,0.05);
        }
        .main-avatar { width: 100%; height: 100%; border-radius: 50%; object-fit: cover; }
        .username { font-size: 1rem; font-weight: 600; opacity: 0.8; margin: 0; }

        .main-title {
            font-family: 'Playfair Display', serif; font-size: clamp(2rem, 9vw, 3.2rem);
            line-height: 1.1; margin: 30px 0; font-weight: 900; font-style: italic;
            background: linear-gradient(180deg, #fff 0%, #aaa 100%);
            background-clip: text; -webkit-background-clip: text; -webkit-text-fill-color: transparent;
        }

        /* Interactive Zone */
        .actions {
            display: flex; flex-direction: column; align-items: center; 
            min-height: 220px; position: relative; width: 100%;
        }

        /* Uniform Button Architecture */
        .btn-yes, .btn-no {
            width: 210px; height: 62px; border-radius: 100px;
            display: flex; align-items: center; justify-content: center;
            font-weight: 900; font-size: 1.05rem; cursor: pointer;
            transition: transform 0.3s cubic-bezier(0.16, 1, 0.3, 1), background 0.4s;
            box-sizing: border-box; border: none;
        }

        .btn-yes {
            background: #fff; color: #000;
            gap: 12px; z-index: 100;
            box-shadow: 0 15px 35px rgba(255,255,255,0.1);
        }

        .btn-no {
            background: rgba(255,255,255,0.08); color: #fff;
            border: 1px solid var(--border) !important;
            position: absolute; top: 100px; /* Locked visibly below Yes */
            left: 50%; transform: translateX(-50%);
            backdrop-filter: blur(20px); z-index: 50;
        }
    </style>
</head>
<body onmousedown="initScore()">

    <div class="ambient-engine">
        <div class="orb orb-1"></div>
        <div class="orb orb-2"></div>
    </div>

    <div class="master-stage">
        <main class="vault-card">
            <header>
                <div class="avatar-frame">
                    <img src="assets/your_profile.jpg" alt="Harshil" class="main-avatar">
                </div>
                <h3 class="username">Harshil R Gowda</h3>
            </header>

            <h1 class="main-title">Will you be my Valentine?</h1>

            <div class="actions" id="actionArea">
                <button id="yesBtn" class="btn-yes" onclick="unlock()">
                    <span>Yes, Always</span>
                    <i class="fas fa-chevron-right"></i>
                </button>

                <button id="noBtn" class="btn-no">No</button>
            </div>
        </main>
    </div>

    <audio id="score" loop><source src="assets/entry_theme.mp3" type="audio/mpeg"></audio>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script>
        const noBtn = document.getElementById('noBtn');
        const yesBtn = document.getElementById('yesBtn');
        const actionArea = document.getElementById('actionArea');
        const audio = document.getElementById('score');
        let growth = 1;

        function initScore() { audio.play().catch(() => {}); }

        function evade(e) {
            if(e) e.preventDefault();
            
            const areaWidth = actionArea.offsetWidth;
            const areaHeight = actionArea.offsetHeight;

            // Strict container-locked evasion for mobile/desktop
            const safeX = Math.random() * (areaWidth - noBtn.offsetWidth);
            const safeY = Math.random() * (areaHeight - noBtn.offsetHeight);

            gsap.to(noBtn, {
                duration: 0.3,
                left: safeX + (noBtn.offsetWidth / 2),
                top: safeY + (noBtn.offsetHeight / 2),
                xPercent: -50,
                yPercent: -50,
                rotation: Math.random() * 20 - 10,
                ease: "power2.out"
            });

            growth += 0.35;
            gsap.to(yesBtn, {
                scale: growth,
                duration: 0.4,
                ease: "back.out(1.5)"
            });
        }

        // Professional Mobile/Desktop Listeners
        noBtn.addEventListener('mouseenter', evade);
        noBtn.addEventListener('touchstart', evade, {passive: false});

        function unlock() {
            gsap.to(".vault-card", {
                duration: 0.8,
                scale: 0.8,
                opacity: 0,
                filter: "blur(40px)",
                ease: "expo.in",
                onComplete: () => { window.location.href = 'apps.html'; }
            });
        }

        window.onload = () => {
            gsap.from(".vault-card", { opacity: 0, y: 50, duration: 1.5, ease: "power4.out" });
        };
    </script>
</body>
</html>